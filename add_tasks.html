<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Sample Tasks - QuestAdmin</title>
    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 30px auto;
            padding: 20px;
            background: #f5f5f9;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #6366f1;
            margin-top: 0;
        }

        .info {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
        }

        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
        }

        button:hover {
            background: #5558e3;
        }

        button:disabled {
            background: #cbd5e1;
            cursor: not-allowed;
        }

        #log {
            background: #1e293b;
            color: #10b981;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            display: none;
        }

        .success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
            color: #065f46;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üìã Add Sample Tasks</h1>

        <div class="info">
            <strong>‚ÑπÔ∏è What this does:</strong>
            <p style="margin: 0.5rem 0 0 0;">Creates 6 sample tasks assigned to your team members to test the system.
            </p>
        </div>

        <button onclick="addSampleTasks()" id="addBtn">Create Sample Tasks</button>

        <div id="log"></div>
        <div id="result"></div>
    </div>

    <script type="module">
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD0M-ClYh7QuKRf2bauy_5QwFmGyNzv0rg",
            authDomain: "nobhowebsite.firebaseapp.com",
            projectId: "nobhowebsite",
            storageBucket: "nobhowebsite.firebasestorage.app",
            messagingSenderId: "46215837869",
            appId: "1:46215837869:web:1b5840d3780d32f91aae24",
            measurementId: "G-SMWW4ZS67N"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        function log(msg, type = 'info') {
            const logDiv = document.getElementById('log');
            logDiv.style.display = 'block';
            const time = new Date().toLocaleTimeString();
            const icon = type === 'error' ? '‚ùå' : '‚úÖ';
            logDiv.innerHTML += `[${time}] ${icon} ${msg}\n`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        window.addSampleTasks = async function () {
            const btn = document.getElementById('addBtn');
            btn.disabled = true;
            btn.textContent = 'Creating tasks...';

            document.getElementById('log').innerHTML = '';
            log('Starting task creation...', 'info');

            const now = new Date();

            const tasks = [
                {
                    title: "Create 3D Rendering of Residential Building",
                    description: "High-quality 3D visualization for the new residential project in Gulshan. Include exterior views, interior spaces, and landscaping.",
                    assignedTo: "VZe8mdHhVbYQpZ1i32h0CaTPCmW2",
                    assignedToName: "MD. Azwad Riyan",
                    assignedToPhoto: "/assets/images/team/Riyan.jpg",
                    status: "in_progress",
                    priority: "high",
                    deadline: new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Client Meeting - Dhanmondi Apartment Interior",
                    description: "Initial consultation with client for interior design of 2500 sqft apartment. Discuss budget, timeline, and design preferences.",
                    assignedTo: "m8Mg8bQcSjdAH4OvLdM6p8FYA9f1",
                    assignedToName: "Nusaiba Binte Mamun",
                    assignedToPhoto: "/assets/images/team/Nusaiba.jpg",
                    status: "pending",
                    priority: "high",
                    deadline: new Date(now.getTime() + 2 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Material Selection for Corporate Office",
                    description: "Finalize flooring, wall finishes, and furniture for 5000 sqft corporate office. Prepare mood boards and cost estimates.",
                    assignedTo: "3Ab4SgapYHagUHhQFRq4StqeYbx2",
                    assignedToName: "Abdullah Mubasshir",
                    assignedToPhoto: "/assets/images/team/Mubasshir.jpg",
                    status: "in_progress",
                    priority: "high",
                    deadline: new Date(now.getTime() + 5 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Art Curation for Luxury Villa",
                    description: "Select and arrange artwork for the main living areas. Coordinate with local artists and galleries.",
                    assignedTo: "xvFe6Fc2DuX6HlfQFm7cLOv3nIg1",
                    assignedToName: "Shariar Hasan",
                    assignedToPhoto: "/assets/images/team/Shariar.png",
                    status: "pending",
                    priority: "medium",
                    deadline: new Date(now.getTime() + 10 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Update Portfolio Website with Recent Projects",
                    description: "Add latest project photos, write case studies, and optimize images for web.",
                    assignedTo: "VZe8mdHhVbYQpZ1i32h0CaTPCmW2",
                    assignedToName: "MD. Azwad Riyan",
                    assignedToPhoto: "/assets/images/team/Riyan.jpg",
                    status: "done",
                    priority: "low",
                    deadline: new Date(now.getTime() - 2 * 24 * 60 * 60 * 1000),
                    completedAt: new Date().toISOString(),
                    completionNotes: "Added 5 new projects with high-res images and detailed descriptions",
                    fileLink: "https://nobho.com/portfolio",
                    deliveryMethod: "other"
                },
                {
                    title: "Prepare Investor Presentation Deck",
                    description: "Create comprehensive presentation showcasing recent projects, financial projections, and growth strategy.",
                    assignedTo: "m8Mg8bQcSjdAH4OvLdM6p8FYA9f1",
                    assignedToName: "Nusaiba Binte Mamun",
                    assignedToPhoto: "/assets/images/team/Nusaiba.jpg",
                    status: "in_progress",
                    priority: "high",
                    deadline: new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Design Mood Board for Boutique Hotel",
                    description: "Create visual mood boards for 20-room boutique hotel project. Include color schemes, furniture, and lighting concepts.",
                    assignedTo: "3Ab4SgapYHagUHhQFRq4StqeYbx2",
                    assignedToName: "Abdullah Mubasshir",
                    assignedToPhoto: "/assets/images/team/Mubasshir.jpg",
                    status: "pending",
                    priority: "medium",
                    deadline: new Date(now.getTime() + 14 * 24 * 60 * 60 * 1000)
                },
                {
                    title: "Source Custom Furniture for Restaurant Project",
                    description: "Find and coordinate with local craftsmen for custom dining tables, chairs, and bar stools.",
                    assignedTo: "xvFe6Fc2DuX6HlfQFm7cLOv3nIg1",
                    assignedToName: "Shariar Hasan",
                    assignedToPhoto: "/assets/images/team/Shariar.png",
                    status: "pending",
                    priority: "medium",
                    deadline: new Date(now.getTime() + 21 * 24 * 60 * 60 * 1000)
                }
            ];

            let count = 0;
            for (const task of tasks) {
                try {
                    await addDoc(collection(db, "tasks"), {
                        ...task,
                        createdBy: "VZe8mdHhVbYQpZ1i32h0CaTPCmW2",
                        createdByName: "MD. Azwad Riyan",
                        createdAt: serverTimestamp(),
                        updatedAt: serverTimestamp()
                    });
                    log(`Created: ${task.title}`, 'success');
                    count++;
                } catch (e) {
                    log(`Failed: ${task.title} - ${e.message}`, 'error');
                }
            }

            btn.textContent = 'Done!';

            const resultDiv = document.getElementById('result');
            resultDiv.className = 'success';
            resultDiv.innerHTML = `
                <strong>‚úÖ Success!</strong><br>
                Created ${count} sample tasks!<br><br>
                <strong>Next steps:</strong><br>
                1. Go to QuestAdmin ‚Üí Tasks page<br>
                2. Test changing task status<br>
                3. Try marking a task as "Done" to see the completion form<br>
                4. Login as different users to see role-based views
            `;
        };
    </script>
</body>

</html>